## Part 1

### 1.1. Сети и маски
 
1.

   ![2](https://i.imgur.com/Z0KuSXu.png)

   Адрес сети 192.167.38.54/13 - `192.160.0.0`

2.

   ![3](https://i.imgur.com/4lN6VLo.png)

   Маска `255.255.255.0`:

   Префиксная запись: `/24`, Двоинчая: `11111111.11111111.11111111.00000000`

   ![4](https://i.imgur.com/SgNA2A7.png)

   Маска `/15`:

   Обычная запись: `255.254.0.0`, Двоичная запись: `11111111.11111110.00000000.00000000`

   ![5](https://i.imgur.com/sKGqSgD.png)
 
   Маска `11111111.11111111.11111111.11110000`:

   Обычная запись: `255.255.255.240`, Префиксная запись: `/28`

3.
   
   ![6](https://i.imgur.com/twp8V0i.png)

   Маска `/8`:
   
   Адрес сети: `12.0.0.0`
   Минимальный хост: `12.0.0.1`
   Максимальный хост: `12.255.255.254`


   Маска `11111111.11111111.00000000.00000000`:

   Адрес сети: `12.167.0.0`
   Минимальный хост: `12.167.0.1`
   Максимальный хост: `12.167.255.254`


   Маска `255.255.254.0`:

   Адрес сети: `12.167.38.0`
   Минимальный хост: `12.167.38.1`
   Максимальный хост: `12.167.39.254`


   Маска `/4`:

   Адрес сети: `0.0.0.0` (так как `/4` охватывает диапазон `0.0.0.0 — 15.255.255.255`).
   Минимальный хост: `0.0.0.1`
   Максимальный хост: `15.255.255.254`

### 1.2. localhost

   `194.34.23.100` — нельзя (это внешний IP)
   `127.0.0.2` — можно
   `127.1.0.1` — можно
   `128.0.0.1` — нельзя (не входит в диапазон 127.0.0.0/8)

### 1.3. Диапазоны и сегменты сетей

1.
   Частные IP-адреса:
      `10.0.0.45`
      `192.168.4.2`
      `172.20.250.4`
      `172.16.255.255` 
      `10.10.10.10` 

   Публичные IP-адреса:
      `134.43.0.2`
      `172.0.2.1`
      `192.172.0.1`
      `172.68.0.2`
      `192.169.168.1`
 
2.
   Диапазон адресов: `10.10.0.1` — `10.10.63.254`

   `10.0.0.1` — нельзя (не входит в диапазон)
   `10.10.0.2` — можно
   `10.10.10.10` — можно
   `10.10.100.1` — нельзя (выходит за пределы диапазона)
   `10.10.1.255` — можно

## Part 2

 ![1](https://i.imgur.com/RxjY03g.png)

 ip a

 ![2](https://i.imgur.com/Gu6UAT2.png)

 настройка `etc/netplan/00-installer-config.yaml` для каждой машины

 ![3](https://i.imgur.com/j8Y7Rsr.png)

 netplan apply

 ![4](https://i.imgur.com/kBp9J9v.png)

 Добавление статического маршрута вручную

 ![5](https://i.imgur.com/DjTPWvc.png)

 прописал маршрут в `etc/netplan/00-installer-config.yaml`

 ![6](https://i.imgur.com/stwDu79.png)

 `netplan apply + ip r + ping`
 
## Part 3
### 3.1. Скорость соединения

 `8 Mbps = 1 MB/s`

 `100 MB/s = 800 000 Kbps`

 `1 Gbps = 1 000 Mbps`

 ![1](https://i.imgur.com/Y8WHnPV.png)

 скорость соединения между ws1 и ws2.

## Part 4
### Part 4.1 Утилита iptables
 ![1](https://i.imgur.com/YinRmY7.png)

 ws1 strategy

 ![2](https://i.imgur.com/VjPjVJm.png)

 ws2 strategy

 Если сначала стоит запрещающее правило, то оно имеет приоритет перед последующим разрешающим.

### Part 4.2 Утилита nmap

 ![1](https://i.imgur.com/L2fw3Ap.png)

 ping + nmap

## Part 5

### Part 5.1 Настройка адресов машин

![1](https://i.imgur.com/4CUsA5y.png)

настройка ws

![2](https://i.imgur.com/sPtIHmM.png)

настройка r

`sudo netplan apply` для сохранения настроек

![3](https://i.imgur.com/oFHAKZE.png)

`ip -4 a` для ws

![4](https://i.imgur.com/NNkmIGt.png)

`ip -4 a` для r

![5](https://i.imgur.com/7aZTite.png)

ping ws22 c ws21

![6](https://i.imgur.com/8ZibVZD.png)

ping r1 c ws11

### 5.2. Включение переадресации IP-адресов

![6](https://i.imgur.com/9nnUKot.png)

`sysctl -w net.ipv4.ip_forward=1` на роутерах

![7](https://i.imgur.com/Zj8mPvj.png)

`net.ipv4.ip_forward = 1` в `/etc/sysctl.conf`

### 5.3. Установка маршрута по умолчанию

![1](https://i.imgur.com/vUjRbLL.png)

netplan configs for ws


 
 

